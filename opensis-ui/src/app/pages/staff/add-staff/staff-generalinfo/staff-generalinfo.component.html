<mat-card class="w-full" *ngIf="staffCreateMode == staffCreate.EDIT || staffCreateMode == staffCreate.ADD">
    <form (ngSubmit)="submitStaff()" #f="ngForm" novalidate appInvalidControlScroll>
        <mat-card-header>
            <mat-card-title>{{'generalInformation'|translate}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>

            <div @stagger fxLayout="column">
                <h4 class="text-primary px-4 pb-2">{{'identificationInformation'|translate}}</h4>
                <ul class="grid grid-cols-2 col-gap-8 row-gap-2 mt-2 mx-4">
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'salutation'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.salutation" name="salutation">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let salutation of salutationEnum" [value]="salutation">
                                    {{salutation}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'suffix'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.suffix" name="suffix">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let suffix of suffixEnum" [value]="suffix">{{suffix}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <div class="flex">
                            <div class="flex flex-1 mr-4 w-1/4 md:w-1/4">
                                <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                                    <mat-label>{{'firstGivenName'|translate}}</mat-label>
                                    <input #firstGivenName="ngModel"
                                        [(ngModel)]="staffAddModel.staffMaster.firstGivenName" name="firstGivenName"
                                        matInput required>
                                    <mat-error class="text-red" *ngIf="firstGivenName.errors?.required">
                                        {{'firstGivenNameIsRequired'|translate}}</mat-error>
                                </mat-form-field>
                            </div>
                            <div class="flex flex-1 ml-4 w-1/4 md:w-1/4">
                                <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                                    <mat-label>{{'middleName'|translate}}</mat-label>
                                    <input [(ngModel)]="staffAddModel.staffMaster.middleName" name="middleName"
                                        matInput>
                                </mat-form-field>
                            </div>
                        </div>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'lastFamilyName'|translate}}</mat-label>
                            <input #lastFamilyName="ngModel" [(ngModel)]="staffAddModel.staffMaster.lastFamilyName"
                                name="lastFamilyName" matInput required>
                            <mat-error class="text-red" *ngIf="lastFamilyName.errors?.required">
                                {{'lastFamilyNameIsRequired'|translate}}</mat-error>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'staffId'|translate}}</mat-label>
                            <input (keyup)="checkInternalId($event)" #staffInternalId="ngModel"
                                [(ngModel)]="staffAddModel.staffMaster.staffInternalId" name="staffInternalId" matInput>
                            <mat-error *ngIf="staffInternalId.errors?.required">
                                {{'staffInternalIdIsRequired'|translate}}</mat-error>
                            <mat-error *ngIf="staffInternalId.errors?.nomatch">
                                {{'staffInternalIdAlreadyExist'|translate}}</mat-error>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'alternateID'|translate}}</mat-label>
                            <input [(ngModel)]="staffAddModel.staffMaster.alternateId" name="alternateId" matInput>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'districtID'|translate}}</mat-label>
                            <input type="number" [(ngModel)]="staffAddModel.staffMaster.districtId" name="districtId"
                                matInput>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'stateID'|translate}}</mat-label>
                            <input type="number" [(ngModel)]="staffAddModel.staffMaster.stateId" name="stateId"
                                matInput>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'preferredCommonName'|translate}}</mat-label>
                            <input [(ngModel)]="staffAddModel.staffMaster.preferredName" name="preferredName" matInput>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'previousMaidenName'|translate}}</mat-label>
                            <input [(ngModel)]="staffAddModel.staffMaster.previousName" name="previousName" matInput>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'socialSecurityNumber'|translate}}</mat-label>
                            <input [(ngModel)]="staffAddModel.staffMaster.socialSecurityNumber"
                                name="socialSecurityNumber" matInput>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'otherGovtIssuedNumber'|translate}}</mat-label>
                            <input [(ngModel)]="staffAddModel.staffMaster.otherGovtIssuedNumber"
                                name="otherGovtIssuedNumber" matInput>
                        </mat-form-field>
                    </li>
                </ul>
                <vex-custom-field-without-form [schoolDetailsForViewAndEdit]="staffAddModel" [module]="module"
                    [categoryId]="categoryId" [staffCreateMode]="staffCreateMode"></vex-custom-field-without-form>



                <h4 class="text-primary pt-6 pb-2 px-4">{{'demographicInformation'|translate}}</h4>
                <ul class="grid grid-cols-2 col-gap-8 row-gap-2 mt-2 mx-4">
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'gender'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.gender" name="gender">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let gender of genderEnum" [value]="gender">{{gender}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'race'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.race" name="race">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let race of raceEnum" [value]="race">{{race}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'ethnicity'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.ethnicity" name="ethnicity">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let ethnicity of ethnicityEnum" [value]="ethnicity">{{ethnicity}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'maritalStatus'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.maritalStatus" name="maritalStatus">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let maritalStatus of maritalStatusEnum" [value]="maritalStatus">
                                    {{maritalStatus}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'dateOfBirth'|translate}}</mat-label>
                            <input [(ngModel)]="staffAddModel.staffMaster.dob" name="dob" [matDatepicker]="dob"
                                matInput>
                            <mat-datepicker-toggle [for]="dob" matSuffix></mat-datepicker-toggle>
                            <mat-datepicker #dob></mat-datepicker>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'countryOfBirth'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.countryOfBirth" name="countryOfBirth">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let country of countryListArr" [value]='country.id'>
                                    {{country.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'nationality'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.nationality" name="nationality">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let country of countryListArr" [value]='country.id'>
                                    {{country.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'firstLanguage'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.firstLanguage" name="firstLanguage">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let language of languageList" [value]="language.langId">
                                    {{language.locale}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'secondLanguage'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.secondLanguage"
                                name="secondLanguage">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let language of languageList" [value]="language.langId">
                                    {{language.locale}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'thirdLanguage'|translate}}</mat-label>
                            <mat-select [(ngModel)]="staffAddModel.staffMaster.thirdLanguage" name="thirdLanguage">
                                <mat-option value=""></mat-option>
                                <mat-option *ngFor="let language of languageList" [value]="language.langId">
                                    {{language.locale}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'physicalDisability'|translate}}</mat-label>
                            <mat-select name="physicalDisability"  [(ngModel)]="staffAddModel.staffMaster.physicalDisability">
                                <mat-option></mat-option>
                                <mat-option [value]="disablity.Yes">{{disablity['true']}}</mat-option>
                                <mat-option [value]="disablity.No">{{disablity['false']}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </li>
                    <li>
                        <mat-form-field class="w-full" appearance="outline" color="primary">
                            <mat-label>{{'disabilityDescription'|translate}}</mat-label>
                            <textarea matInput></textarea>
                        </mat-form-field>
                    </li>
                </ul>


                
                <div *ngIf="hideAccess">
                    <h4 class="text-primary pt-6 pb-2 px-4">{{'accessInformation'|translate}}</h4>
                    <div class="mb-2 md:flex md:flex-wrap">
                        <div class="flex flex-1 mx-4 md:w-1/2">
                            <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                                <mat-label>{{'loginEmailAddress'|translate}}</mat-label>
                                <input #loginEmailAddress="ngModel" name="loginEmailAddress"
                                    (keyup)="checkLoginEmail($event)"
                                    [(ngModel)]="staffAddModel.staffMaster.loginEmailAddress" matInput
                                    [required]="hideAccess ? true : null ">
                                <mat-error class="text-red" *ngIf="loginEmailAddress.errors?.required && hideAccess">
                                    {{'loginEmailAddressIsRequired'|translate}}</mat-error>
                                <mat-error *ngIf="loginEmailAddress.errors?.nomatch">
                                    {{'loginEmailAddressAlreadyExist'|translate}}</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="flex-1 mx-4 md:w-1/2">
                            <mat-form-field *ngIf="hidePasswordAccess" class="flex-none w-full mb-0"
                                appearance="outline" color="primary">
                                <mat-label>{{'password'|translate}}</mat-label>
                                <input #passwordHash="ngModel" ngModel [type]="inputType" name="passwordHash" matInput
                                    [required]="hidePasswordAccess ? true : null " [readonly]="fieldDisabled">
                                <mat-error class="text-red" *ngIf="passwordHash.errors?.required && hidePasswordAccess">
                                    {{'passwordIsRequired'|translate}}</mat-error>
                                <button (click)="toggleVisibility()" mat-icon-button matSuffix
                                    matTooltip="Toggle Visibility" type="button">
                                    <mat-icon *ngIf="visible" [icIcon]="icVisibility"></mat-icon>
                                    <mat-icon *ngIf="!visible" [icIcon]="icVisibilityOff"></mat-icon>
                                </button>
                            </mat-form-field>
                            <p *ngIf="hidePasswordAccess" class="flex-none -mt-3 mb-4"><a (click)="generate()"
                                    class="text-primary underline cursor-pointer">Auto Generate Password</a></p>
                        </div>
                    </div>
                </div>
                <div class="mb-6 mx-4">
                    <mat-slide-toggle color="primary" [checked]="staffAddModel.staffMaster.portalAccess"
                        (change)="isPortalAccess($event)" class="mb-4">
                        {{'portalAccess' | translate}}
                    </mat-slide-toggle>
                </div>

                <div class="px-4 pt-3 mb-4 text-right">
                    <button mat-button type="button" *ngIf="staffCreateMode == staffCreate.EDIT"
                    (click)="cancelEdit()">{{'cancel'|translate}}</button>
                <button color="primary" mat-raised-button>{{saveAndNext |translate}}</button>
                </div>
            </div>
        </mat-card-content>
    </form>
</mat-card>



<!--View-->
<mat-card class="w-full" *ngIf="staffCreateMode == staffCreate.VIEW">

    <div class="flex items-center mx-4" fxLayout="row" fxLayoutAlign="center center">
        <h3 class="flex-auto">{{'generalInformation' | translate}}</h3>
        <button mat-button color="primary" (click)="editGeneralInfo()">
            <mat-icon [icIcon]="icEdit"></mat-icon> {{'editInformation' |translate}}
        </button>
    </div>
    <mat-card-content>

        <div @stagger fxLayout="column">
            <h4 class="text-primary pt-6 pb-2 px-4">{{'identificationInformation'|translate}}</h4>
            <ul class="grid grid-cols-3 col-gap-8 row-gap-10 mt-2 mx-4">
                <li>
                    <label class="text-sm leading-5 text-gray">{{'staffName' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.salutation}} {{staffAddModel?.staffMaster.firstGivenName}} {{staffAddModel?.staffMaster.middleName}}
                        {{staffAddModel?.staffMaster.lastFamilyName}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'staffId' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.staffInternalId | EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'alternateId' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.alternateId | EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'districtId' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.districtId}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'stateId' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.stateId}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'preferredCommonName' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.preferredName |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'previousMaidenName' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.previousName |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'socialSecurityNumber' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.socialSecurityNumber |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'otherGovtIssuedNumber' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.otherGovtIssuedNumber |EmtyValueCheckPipe}}</p>
                </li>
            </ul>
            <vex-custom-field-without-form [schoolDetailsForViewAndEdit]="staffAddModel" [module]="module"
            [categoryId]="categoryId" [staffCreateMode]="staffCreateMode"></vex-custom-field-without-form>


            <hr class="-mx-4 mt-6">
            <h4 class="text-primary pt-6 pb-2 px-4">{{'demographicInformation'|translate}}</h4>

            <ul class="grid grid-cols-3 col-gap-8 row-gap-10 mt-2 mx-4">
                <li>
                    <label class="text-sm leading-5 text-gray">{{'gender' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.gender |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'race' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.race |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'ethnicity' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.ethnicity |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'maritalStatus' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.maritalStatus |EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'dateOfBirth' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.dob | date:'mediumDate' | EmtyValueCheckPipe}}  {{ getAge(staffAddModel.staffMaster.dob)}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'countryOfBirth' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{countryName}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'nationality' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{nationality}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'firstLanguage' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{firstLanguageName}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'secondLanguage' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{secondLanguageName}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'thirdLanguage' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{thirdLanguageName}}</p>
                </li>
            </ul>


            <hr class="-mx-4 mt-6">

            <h4 class="text-primary pt-6 pb-2 px-4">{{'accessInformation'|translate}}</h4>
            <ul class="grid grid-cols-3 col-gap-8 row-gap-10 my-2 mx-4">
                <li>
                    <label class="text-sm leading-5 text-gray">{{'loginEmailAddress' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{staffAddModel.staffMaster.loginEmailAddress}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'password' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2"><a href=""
                            class="text-primary pointer">Reset Password</a></p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'portalAccess' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2 text-green">{{staffAddModel.staffMaster.portalAccess}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'lastLogin' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">Aug 20, 2020, 10:30 AM</p>
                </li>
            </ul>
        </div>
    </mat-card-content>
</mat-card>