<form (ngSubmit)="f.form.valid && submit()" #f="ngForm" novalidate *ngIf="studentCreateMode==StudentCreate.EDIT || studentCreateMode==StudentCreate.ADD">

<mat-card class="w-full">
    <mat-card-header>
        <mat-card-title>{{'addressAndContact'|translate}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>

        <div @stagger fxLayout="column">
            <h4 class="text-primary px-4 pb-2">{{'studentHomeAddress'|translate}}</h4>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'streetAddress1'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.homeAddressLineOne"  name="homeAddressLineOne" #homeAddressLineOne="ngModel" matInput required>
                        <mat-error class="text-red" *ngIf="homeAddressLineOne.errors?.required">
                            {{'streetAddress1IsRequired'|translate}}</mat-error>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'streetAddress2'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.homeAddressLineTwo"  name="homeAddressLineTwo" matInput>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'country'|translate}}</mat-label>
                        <mat-select [(ngModel)]="studentAddModel.studentMaster.homeAddressCountry"  name="homeAddressCountry">
                            <mat-option value=""></mat-option>
                            <mat-option *ngFor="let country of countryListArr" [value]= 'country.id'>
                                {{country.name}}
                            </mat-option>
                        </mat-select>
                       
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'stateProvinceLocality'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.homeAddressState"  name="homeAddressState" #homeAddressState="ngModel" matInput required>
                        <mat-error class="text-red" *ngIf="homeAddressState.errors?.required">
                            {{'stateProvinceLocalityIsRequired'|translate}}</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'city'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.homeAddressCity"  name="homeAddressCity" #homeAddressCity="ngModel" matInput required>
                        <mat-error class="text-red" *ngIf="homeAddressCity.errors?.required">
                            {{'cityIsRequired'|translate}}</mat-error>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'zipPostalCode'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.homeAddressZip" #homeAddressZip="ngModel" name="homeAddressZip" matInput required>
                        <mat-error class="text-red" *ngIf="homeAddressZip.errors?.required">
                            {{'zipPostalCodeIsRequired'|translate}}</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'busNo'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.busNo"  name="busNo" matInput>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2 md:pt-3">
                    <mat-checkbox [(ngModel)]="studentAddModel.studentMaster.schoolBusPickUp"  name="schoolBusPickUp" color="primary" class="mr-6">{{'busPickup' | translate}}</mat-checkbox>
                    <mat-checkbox [(ngModel)]="studentAddModel.studentMaster.schoolBusDropOff"  name="schoolBusDropOff" color="primary">{{'busDropoff' | translate}}</mat-checkbox>
                </div>
            </div>

            <h4 class="text-primary px-4 pb-2 pt-10">{{'studentMailingAddress'|translate}}</h4>
            <div class="px-4 pb-3">
                <mat-checkbox [checked]="checkBoxChecked" [(ngModel)]="studentAddModel.studentMaster.mailingAddressSameToHome" (click)="copyHomeAddress($event)" name="mailingAddressSameToHome" color="primary">{{'sameAsHomeAddress' | translate}}</mat-checkbox>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'streetAddress1'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.mailingAddressLineOne"  name="mailingAddressLineOne" matInput>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'streetAddress2'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.mailingAddressLineTwo"  name="mailingAddressLineTwo" matInput>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'country'|translate}}</mat-label>
                        <mat-select [(ngModel)]="studentAddModel.studentMaster.mailingAddressCountry"  name="mailingAddressCountry">
                            <mat-option value=""></mat-option>
                            <mat-option *ngFor="let country of countryListArr" [value]= 'country.id'>
                                {{country.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'stateProvinceLocality'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.mailingAddressState"  name="mailingAddressState" matInput>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'city'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.mailingAddressCity"  name="mailingAddressCity" matInput>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'zip/Postal Code'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.mailingAddressZip"  name="mailingAddressZip" matInput>
                    </mat-form-field>
                </div>
            </div>

            <h4 class="text-primary px-4 pb-2 pt-10">{{'personalContactInformation'|translate}}</h4>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'homePhone'|translate}}</mat-label>
                        <input #homePhone="ngModel" maxlength="12" appPhoneMask [(ngModel)]="studentAddModel.studentMaster.homePhone"  name="homePhone" matInput>
                        <mat-error
                        *ngIf="!homePhone.errors?.required && homePhone.errors?.invalidPhoneNumber">
                        {{'invalidTelephoneNumber'|translate}}</mat-error>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'mobilePhone'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.mobilePhone" appPhonevalidator #mobilePhone="ngModel" name="mobilePhone" matInput>
                        <mat-error  *ngIf="mobilePhone.errors?.phonevalidator">
                            {{'pleaseProvideAValidMobileNo'|translate}} 
                          </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'personalEmail'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.personalEmail" appEmailvalidator #personalEmail="ngModel" name="personalEmail" matInput>
                        <mat-error  *ngIf="personalEmail.errors?.emailvalidator">
                            {{'pleaseProvideAValidEmailAddress'|translate}} 
                          </mat-error>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'schoolEmail'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.schoolEmail" appEmailvalidator #schoolEmail="ngModel" name="schoolEmail" matInput>
                        <mat-error  *ngIf="schoolEmail.errors?.emailvalidator">
                            {{'pleaseProvideAValidEmailAddress'|translate}} 
                          </mat-error>
                        
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'twitter'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.twitter"  name="twitter" matInput>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'facebook'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.facebook"  name="facebook" matInput>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'instagram'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.instagram"  name="instagram" matInput>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'youtube'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.youtube"  name="youtube" matInput>
                    </mat-form-field>
                </div>
            </div>
            <div class="mb-2 md:flex md:flex-wrap">
                <div class="flex flex-1 mx-4 md:w-1/2">
                    <mat-form-field fxFlex="auto" class="w-full" appearance="outline" color="primary">
                        <mat-label>{{'linkedIn'|translate}}</mat-label>
                        <input [(ngModel)]="studentAddModel.studentMaster.linkedin"  name="linkedin" matInput>
                    </mat-form-field>
                </div>
                <div class="flex flex-1 mx-4 md:w-1/2"></div>
            </div>
        </div>
    </mat-card-content>
    <mat-card-actions>
        <div class="px-4 mb-2 text-right">
            <button mat-button type="button" *ngIf="studentCreateMode == StudentCreate.EDIT" (click)="cancelEdit()">{{'cancel'|translate}}</button>
            <button color="primary" mat-raised-button>{{'submit'|translate}}</button>
        </div>
    </mat-card-actions>

</mat-card>
</form>

<mat-card class="w-full" *ngIf="studentCreateMode == StudentCreate.VIEW">

    <div class="flex items-center mx-4" fxLayout="row" fxLayoutAlign="center center">
        <h3 class="flex-auto">{{'addressAndContact' | translate}}</h3>
        <button mat-button (click)= "editAddressContactInfo()" color="primary"><mat-icon [icIcon]="icEdit"></mat-icon> {{'editInformation' |translate}}</button>
    </div>
    <mat-card-content>

        <div @stagger fxLayout="column">
            <h4 class="text-primary pt-6 pb-2 px-4">{{'studentHomeAddress'|translate}}</h4>
            <ul class="grid grid-cols-3 col-gap-8 row-gap-10 mt-2 mx-4">
                <li>
                    <label class="text-sm leading-5 text-gray">{{'streetAddress1' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.homeAddressLineOne|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'streetAddress2' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.homeAddressLineTwo|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'country' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{countryName}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'stateProvinceLocality' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.homeAddressState|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'city' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.homeAddressCity|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'zipPostalCode' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.homeAddressZip}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'busNo' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.busNo|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'busPickup' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.schoolBusPickUp|EmtyBooleanCheckReversePipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'busDropoff' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.schoolBusDropOff|EmtyBooleanCheckReversePipe}}</p>
                </li>
            </ul>
            <hr class="-mx-4 mt-6">

            <h4 class="text-primary pt-6 pb-2 px-4">{{'studentMailingAddress'|translate}}</h4>

            <div class="mx-4 flex mb-4" *ngIf="mailingAddressSameToHome; else mailingAddressNotSameToHome">
                <mat-icon [icIcon]="icCheckBox" class="mr-3"></mat-icon>
                    {{'sameAsHomeAddress' | translate}}
            </div>
            <ng-template #mailingAddressNotSameToHome>
                <div class="mx-4 flex mb-4" >
                    <mat-icon [icIcon]="icCheckBoxOutlineBlank" class="mr-3"></mat-icon>
                        {{'sameAsHomeAddress' | translate}}
                </div>
            </ng-template>
           
            <ul class="grid grid-cols-3 col-gap-8 row-gap-10 mt-2 mx-4">
                <li>
                    <label class="text-sm leading-5 text-gray">{{'streetAddress1' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.mailingAddressLineOne|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'streetAddress2' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.mailingAddressLineTwo|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'country' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{mailingAddressCountry}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'stateProvinceLocality' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.mailingAddressState|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'city' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.mailingAddressCity|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'zipPostalCode' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.mailingAddressZip}}</p>
                </li>
            </ul>
            <hr class="-mx-4 mt-6">

            <h4 class="text-primary pt-6 pb-2 px-4">{{'personalContactInformation'|translate}}</h4>
            <ul class="grid grid-cols-3 col-gap-8 row-gap-10 mt-2 mx-4">
                <li>
                    <label class="text-sm leading-5 text-gray">{{'homePhone' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.homePhone}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'mobilePhone' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.mobilePhone}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'personalEmail' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.personalEmail|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'schoolEmail' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.schoolEmail|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'twitter' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.twitter|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'facebook' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.facebook|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'instagram' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.instagram|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'youtube' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.youtube|EmtyValueCheckPipe}}</p>
                </li>
                <li>
                    <label class="text-sm leading-5 text-gray">{{'linkedIn' | translate}}</label>
                    <p class="mt-1 text-sm leading-5 sm:mt-0 sm:col-span-2">{{data.linkedin|EmtyValueCheckPipe}}</p>
                </li>
            </ul>
        </div>
    </mat-card-content>
</mat-card>
