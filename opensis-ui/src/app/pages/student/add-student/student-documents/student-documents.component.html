<mat-card class="w-full p-0" fxFlex="auto">
    <div class="flex items-center mx-6 py-4" fxLayout="row" fxLayoutAlign="center center">
        <h3 class="flex-auto">{{'documents' | translate}}</h3>
        <button mat-raised-button color="primary" (click)="toggleDisplayDiv()"><mat-icon [icIcon]="icUpload"></mat-icon> {{'uploadDocument' |translate}}</button>
    </div>

    <div class="mx-6 mb-6" [hidden]="isShowDiv">
        <ngx-dropzone (change)="onSelect($event)" class="custom-dropzone">
            <ngx-dropzone-label>
                <p class="text-lg mt-12"><span class="text-primary">Click here</span> to browse files</p>
                <p class="my-2">or</p>
                <p class="text-lg">Drop files here to upload</p>
            </ngx-dropzone-label>
            <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
            </ngx-dropzone-preview>
        </ngx-dropzone>
        <div class="text-center mt-4" *ngIf="files.length">
            <button mat-raised-button color="primary" (click)="toggleDisplayDiv()"><mat-icon [icIcon]="icUpload"></mat-icon> {{'uploadSlectedFiles' |translate}}</button>
        </div>
    </div>

    <table @stagger mat-table [dataSource]="StudentDocumentsList" class="mat-elevation-z8 table-auto w-full" matSort>
        <ng-container matColumnDef="file">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="uppercase">{{'file'|translate}}</th>
            <td mat-cell *matCellDef="let element">
                <a routerLink="" class="text-primary cursor-pointer">{{element.file}}</a>
            </td>
        </ng-container>

        <!-- Body -->
        <ng-container matColumnDef="uploaded_by">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="uppercase">{{'uploadedBy'|translate}}
            </th>
            <td mat-cell *matCellDef="let element">
                {{element.uploaded_by}}
            </td>
        </ng-container>

        <ng-container matColumnDef="uploaded_on">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="uppercase">{{'uploadedOn'|translate}}
            </th>
            <td mat-cell *matCellDef="let element">
                {{element.uploaded_on}}
            </td>
        </ng-container>

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef class="uppercase">{{'action'|translate}}</th>
            <td mat-cell *matCellDef="let element">
                <a routerLink="" class="mr-3 cursor-pointer">
                    <mat-icon [icIcon]="icEdit"></mat-icon>
                </a>
                <a routerLink="" class="mr-3 cursor-pointer">
                    <mat-icon [icIcon]="icDelete"></mat-icon>
                </a>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="visibleColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: visibleColumns" @fadeInUp></tr>

    </table>
    <!-- <mat-paginator [length]="totalCount" [pageSize]="pageSize" [pageSizeOptions]="[10, 20, 30, 40]"
                showFirstLastButtons (page)='getPageEvent($event)'></mat-paginator> -->

</mat-card>


<mat-menu #columnFilterMenu="matMenu" xPosition="before" yPosition="below">
    <button (click)="toggleColumnVisibility(column, $event)" *ngFor="let column of columns"
        class="checkbox-item mat-menu-item">
        <mat-checkbox (click)="$event.stopPropagation()" [(ngModel)]="column.visible" color="primary">
            {{column.label}}
        </mat-checkbox>
    </button>
</mat-menu>